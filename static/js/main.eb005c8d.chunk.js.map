{"version":3,"sources":["styles/global.scss","db/TempateDB.js","db/dbApi.js","redux/reducers/userSlice.js","requests/Request.js","components/login/LoginForm.js","pages/Login.js","AuthRoute.js","redux/reducers/challengesSlice.js","redux/reducers/tasksSlice.js","components/challenges/Challenge.js","components/loading/Loading.js","components/challenges/ChallengesList.js","pages/Challenges.js","components/tasks/Task.js","components/tasks/TasksList.js","pages/Tasks.js","components/menu/Menu.js","PagesConstructor.js","App.js","serviceWorker.js","redux/store.js","index.js","styles/Task.module.scss","styles/theme.scss","styles/Menu.module.scss","styles/LoginForm.module.scss","styles/Challenge.module.scss","styles/LoginPage.module.scss","styles/Loading.module.scss","styles/ChallengesList.module.scss","styles/TasksList.module.scss"],"names":["module","exports","db","Dexie","version","stores","user","tasks","challenges","challengesQueue","on","add","_id","bulkAdd","setUserId","id","put","then","catch","err","console","log","updateTask","report","images","state","update","userSlice","createSlice","name","initialState","isLogin","isOnline","reducers","logIn","action","logOut","updateUser","payload","setOnlineStatus","actions","ChallengesRequest","axios","get","response","status","data","connetionStatus","statusText","TasksRequest","UpdateTaskRequest","task","LoginForm","dispatch","useDispatch","useState","code","loginData","setLoginData","setErr","handleChange","e","field","target","value","className","styles","background","Typography","TextField","loginInput","color","label","onChange","error","Boolean","helperText","type","Button","onClick","preventDefault","tempErr","Object","entries","map","item","keys","length","find","LoginRequest","loginButton","variant","Login","PublicRoute","Component","component","restricted","rest","useSelector","render","props","to","PrivateRoute","page","challengesSLice","items","pendingQueue","clear","bulkPut","addChallengeToQueue","queue","clearPandingQueue","tasksSlice","elements","addTask","updateTasks","updateReport","existingTask","updateTaskState","toggleEditForm","Challenge","isPending","indexOf","userId","acceptedChallenges","challenge","Card","CardMedia","alt","height","image","title","CardContent","gutterBottom","description","challengeInfo","maxScore","date","d","Date","getDate","getMonth","getFullYear","parseDate","finishDate","CardActions","post","AcceptChallengeRequest","challengeId","score","acceptButton","disabled","Loading","loadingContainer","CircularProgress","ChallengesList","useEffect","Fragment","key","Challenges","Task","InProgress","Moderation","Confirmed","Declined","Cancelled","taskState","isSave","setIsSaved","expanded","setExpanded","reportData","setReportData","errors","setErrors","handleUpdateTaskState","taskToUpdate","imagex","checkErrors","el","IconButton","clsx","expand","expandOpen","aria-expanded","aria-label","Collapse","in","timeout","unmountOnExit","reportBackground","multiline","event","saveReportButton","size","TasksList","Tasks","Menu","setPage","BottomNavigation","showLabels","newValue","BottomNavigationAction","selected","icon","Link","PagesConstructor","Page","App","isLoading","setLoading","LoginByIdRequest","basename","path","isLocalhost","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","configureStore","reducer","tasksReducer","userReducer","challengesReducer","defaults","baseURL","themeMui","createMuiTheme","palette","primary","light","theme","primaryLight","main","primaryMain","dark","primaryDark","contrastText","primaryText","secondary","secondaryLight","secondaryMain","secondaryDark","secondaryText","typography","fontFamily","join","URL","process","href","origin","addEventListener","fetch","headers","contentType","ready","unregister","reload","checkValidServiceWorker","ReactDOM","StrictMode","store","StylesProvider","injectFirst","ThemeProvider","document","getElementById","Notification","requestPermission"],"mappings":"+IACAA,EAAOC,QAAU,CAAC,aAAe,OAAO,YAAc,UAAU,YAAc,UAAU,YAAc,OAAO,eAAiB,UAAU,cAAgB,UAAU,cAAgB,UAAU,cAAgB,S,8ICC/LC,EAAK,I,MAAIC,GAAM,MAC5BD,EAAGE,QAAQ,GAAGC,OAAO,CACjBC,KAAM,OACNC,MAAO,MACPC,WAAY,MACZC,gBAAiB,QAGrBP,EAAGQ,GAAG,YAAY,WACdR,EAAGI,KAAKK,IAAI,CAACL,KAAO,eAAgBM,IAAK,OACzCV,EAAGK,MAAMM,QAAQ,IACjBX,EAAGM,WAAWK,QAAQ,IACtBX,EAAGO,gBAAgBI,QAAQ,OCZxB,IAQMC,EAAY,SAACC,GACtB,OAAOb,EAAGI,KAAKU,IAAI,CAAEV,KAAM,eAAgBM,IAAKG,IAC3CE,MAAK,kBAAM,KACXC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,OAarBG,EAAa,SAACV,EAAKW,EAAQC,EAAQC,GAC5C,OAAOvB,EAAGK,MAAMmB,OAAOd,EAAK,CAAEW,OAAQA,EAAQC,OAAO,YAAKA,GAASC,MAAOA,K,QCnBxEE,EAAYC,YAAY,CAC1BC,KAAM,OACNC,aARiB,CACjBC,SAAU,EACVC,UAAU,EACV1B,KAAM,MAMN2B,SAAU,CACNC,MAAO,SAACT,EAAOU,GAEXV,EAAMM,SAAU,GAEpBK,OAAQ,SAAAX,GAEJA,EAAMM,SAAU,GAEpBM,WAAY,SAACZ,EAAOU,GAChBV,EAAMnB,KAAO6B,EAAOG,SAExBC,gBAAiB,SAACd,EAAOU,GACrBV,EAAMO,SAAWG,EAAOG,Y,EAK0BX,EAAUa,QAAzDN,E,EAAAA,MAAeG,G,EAARD,O,EAAQC,YAAYE,E,EAAAA,gBAE3BZ,IAAf,Q,iBCEac,EAAoB,kBAC7BC,IAAMC,IAAI,eACL1B,MAAK,SAAA2B,GACF,OAAwB,MAApBA,EAASC,QACF,CAACC,KAAMF,EAASE,KAAMC,gBAAiBH,EAASI,eAK9D9B,OAAM,SAAAC,GACH,OAAO,MAgBN8B,EAAe,SAAClC,GAAD,OACxB2B,IAAMC,IAAN,qBAAwB5B,IACnBE,MAAK,SAAA2B,GACF,OAAwB,MAApBA,EAASC,QACFD,EAASE,QAKvB5B,OAAM,SAAAC,GACH,OAAO,MAIN+B,EAAoB,SAACC,GAAD,OAC7BT,IAAM1B,IAAN,SAAoBmC,GACflC,MAAK,SAAA2B,GACF,OAAwB,MAApBA,EAASC,QACFD,EAASE,QAKvB5B,OAAM,SAAAC,GACH,OAAO,M,iBC3ENiC,EAAY,WAErB,IAAMC,EAAWC,cAFU,EAIOC,mBAAS,CACvC1B,KAAM,GACN2B,KAAM,KANiB,mBAIpBC,EAJoB,KAITC,EAJS,OASLH,mBAAS,IATJ,mBASpBpC,EAToB,KASfwC,EATe,KAWrBC,EAAe,SAACC,EAAGC,GACrBJ,EAAa,2BAAKD,GAAN,kBAAkBK,EAAQD,EAAEE,OAAOC,UA6BnD,OACI,yBAAKC,UAAWC,IAAOC,YACnB,kBAACC,EAAA,EAAD,CAAYH,UAAU,eAAtB,gGACA,8BACI,kBAACI,EAAA,EAAD,CACIJ,UAAWC,IAAOI,WAClBC,MAAM,YACNxD,GAAG,aACHyD,MAAM,iCACNC,SAAU,SAACZ,GAAD,OAAOD,EAAaC,EAAG,SACjCa,MAAOC,QAAQxD,EAAIU,MACnBmC,MAAOP,EAAU5B,KACjB+C,WAAYD,QAAQxD,EAAIU,OAAS,4GAErC,kBAACwC,EAAA,EAAD,CACIJ,UAAWC,IAAOI,WAClBC,MAAM,YACNxD,GAAG,aACHyD,MAAM,uCACNK,KAAK,WACLJ,SAAU,SAACZ,GAAD,OAAOD,EAAaC,EAAG,SACjCa,MAAOC,QAAQxD,EAAIqC,MACnBQ,MAAOP,EAAUD,KACjBoB,WAAYD,QAAQxD,EAAIqC,OAAS,kHAErC,kBAACsB,EAAA,EAAD,CAAQD,KAAK,SAASE,QAnDb,SAAClB,GAClBA,EAAEmB,iBACF,IAAIC,EAAU,GACdC,OAAOC,QAAQ1B,GAAW2B,KAAI,SAAAC,GACV,KAAZA,EAAK,KAAWJ,EAAQI,EAAK,KAAM,MAEvCH,OAAOI,KAAKL,GAASM,OAAS,EAC9B5B,EAAOsB,IAEPtB,EAAOsB,GD7BS,SAAC,GAAoB,IAAlBpD,EAAiB,EAAjBA,KAAM2B,EAAW,EAAXA,KACjC,OAAOd,IAAMC,IAAI,UACZ1B,MAAK,SAAA2B,GACF,GAAwB,MAApBA,EAASC,OAAgB,CACzB,IAAMvC,EAAOsC,EAASE,KAAK0C,MAAK,SAAAlF,GAAI,OAAIA,EAAKuB,OAASA,GAAQvB,EAAKkD,OAASA,KAC5E,OAAIlD,IACQ,EAEZ,OAAO,KAGdY,OAAM,SAAAC,GACH,OAAO,KCkBPsE,CAAahC,GACRxC,MAAK,SAAAX,GACEA,GACAQ,EAAUR,EAAKM,KACfyC,EAAShB,EAAW/B,IACpB+C,EAASnB,MAETyB,EAAO,CACH9B,MAAM,EACN2B,MAAM,SAgC2BS,UAAWC,IAAOwB,YAAaC,QAAQ,aAApF,qC,iBCtEHC,EAAQ,WACjB,OACI,yBAAK3B,UAAWC,IAAOC,YACnB,kBAAC,EAAD,Q,gBCHC0B,EAAc,SAAC,GAAmD,IAAtCC,EAAqC,EAAhDC,UAAsBC,EAA0B,EAA1BA,WAAeC,EAAW,0CAEpElE,EAAUmE,aAAY,SAAAzE,GAAK,OAAIA,EAAMnB,KAAKyB,WAEhD,OAGI,kBAAC,IAAD,iBAAWkE,EAAX,CAAiBE,OAAQ,SAAAC,GAAK,OAC1BrE,GAAWiE,EACP,kBAAC,IAAD,CAAUK,GAAG,WACX,kBAACP,EAAcM,QAKpBE,EAAe,SAAC,GAA6C,IAAhCR,EAA+B,EAA1CC,UAAsBQ,EAAoB,EAApBA,KAASN,EAAW,oCAE/DlE,EAAUmE,aAAY,SAAAzE,GAAK,OAAIA,EAAMnB,KAAKyB,WAEhD,OAGI,kBAAC,IAAD,iBAAWkE,EAAX,CAAiBE,OAAQ,SAAAC,GAAK,OAC1BrE,EACI,kBAAC+D,EAAD,eAAWS,KAAMA,GAAUH,IACzB,kBAAC,IAAD,CAAUC,GAAG,gBCrBzBG,EAAkB5E,YAAY,CAChCC,KAAM,aACNC,aAPiB,CACjB2E,MAAO,GACPC,aAAc,IAMdzE,SAAU,CACNP,OAAQ,SAACD,EAAOU,GNkBM,IAAC3B,EMjBnBiB,EAAMgF,MAAN,YAAkBtE,EAAOG,SNiBN9B,EMhBJ2B,EAAOG,QNiB9BpC,EAAGM,WAAWmG,QACPzG,EAAGM,WAAWoG,QAAd,YAA0BpG,KMhB7BqG,oBAAqB,SAACpF,EAAOU,GN6BF,IAAC2E,EM5BxBrF,EAAMiF,aAAN,sBAAyBjF,EAAMiF,cAA/B,CAA6CvE,EAAOG,UN4B5BwE,EM3BJ,CAAClG,IAAKuB,EAAOG,SN4BzClB,QAAQC,IAAIyF,GACL5G,EAAGO,gBAAgBE,IAAImG,IM3B1BC,kBAAmB,SAACtF,GAChBA,EAAMiF,aAAe,GACrBK,EAAkBtF,EAAMiF,kB,EAK8BF,EAAgBhE,QAAnEd,E,EAAAA,OAAQqF,E,EAAAA,kBAAmBF,E,EAAAA,oBAE3BL,IAAf,Q,qDCtBMQ,EAAapF,YAAY,CAC3BC,KAAM,QACNC,aANiB,CACjBmF,SAAU,IAMVhF,SAAU,CACNiF,QAAS,SAACzF,EAAOU,GPWD,IAACgB,EOLb1B,EAAMwF,SAAN,sBAAqBxF,EAAMwF,UAA3B,CAAqC9E,EAAOG,UPK/Ba,EOJJhB,EAAOG,QPKjBpC,EAAGK,MAAMS,IAAImC,IOHhBgE,YAAa,SAAC1F,EAAOU,GPJJ,IAAC5B,EOKdkB,EAAMwF,SAAW9E,EAAOG,QPLV/B,EOMJ4B,EAAOG,QPLzBlB,QAAQC,IAAId,GACZL,EAAGK,MAAMoG,QACFzG,EAAGK,MAAMqG,QAAT,YAAqBrG,KOKxB6G,aAAc,SAAC3F,EAAOU,GAAY,IAAD,EACGA,EAAOG,QAA/B1B,EADqB,EACrBA,IAAKW,EADgB,EAChBA,OAAQC,EADQ,EACRA,OACf6F,EAAe5F,EAAMwF,SAASzB,MAAK,SAAArC,GAAI,OAAIA,EAAKvC,MAAQA,KAC1DyG,IACAA,EAAa9F,OAASA,EACtB8F,EAAa7F,OAASA,EACtBF,EAAWV,EAAKW,EAAQC,EAAQ6F,EAAa5F,SAGrD6F,gBAAiB,SAAC7F,EAAOU,GACrB,IAAMkF,EAAe5F,EAAMwF,SAASzB,MAAK,SAAArC,GAAI,OAAIA,EAAKvC,MAAQuB,EAAOG,QAAQ1B,OACzEyG,IACAA,EAAa5F,MAAQU,EAAOG,QAAQb,MACpCH,EAAW+F,EAAazG,IAAKyG,EAAa9F,OAAQ8F,EAAa7F,OAAQ6F,EAAa5F,Y,EAMbuF,EAAWxE,QAAnE2E,I,EAAhBI,e,EAAgBJ,aAAaD,G,EAAAA,QAASE,G,EAAAA,aAAcE,G,EAAAA,gBAEpDN,KAAf,QC/BaQ,GAAY,SAAC,GAAc,IAAZ1E,EAAW,EAAXA,KAOlBO,EAAWC,cAEXmE,EAAYvB,aAAY,SAAAzE,GAAK,OAAIA,EAAMjB,WAAWkG,eAAqE,IAArDjF,EAAMjB,WAAWkG,aAAagB,QAAQ5E,EAAKlC,QAE7G+G,EAASzB,aAAY,SAAAzE,GAAK,OAAIA,EAAMnB,KAAKA,KAAKM,OAC9CgH,EAAqB1B,aACvB,SAAAzE,GAAK,OAAIA,EAAMlB,MAAM0G,SAAS7B,KAAI,SAAAjC,GAC9B,GAAmB,cAAfA,EAAK1B,MACL,OAAO0B,EAAK0E,UAAUjH,UA0BlC,OACI,kBAACkH,EAAA,EAAD,CAAM7D,UAAWC,IAAOC,YACpB,kBAAC4D,EAAA,EAAD,CACIhC,UAAU,MACViC,IAAI,aACJC,OAAO,MACPC,MAAOpF,EAAKoF,MACZC,MAAM,SAEV,kBAACC,EAAA,EAAD,KACI,kBAAChE,EAAA,EAAD,CAAYG,MAAM,gBAAgB8D,cAAY,EAAC1C,QAAQ,KAAKI,UAAU,MACjEjD,EAAKqF,OAEV,kBAAC/D,EAAA,EAAD,CAAYuB,QAAQ,QAAQpB,MAAM,gBAAgBwB,UAAU,KACvDjD,EAAKwF,aAEV,yBAAKrE,UAAWC,IAAOqE,eACnB,kBAACnE,EAAA,EAAD,CAAYuB,QAAQ,QAAQpB,MAAM,gBAAgBwB,UAAU,KAA5D,oCACcjD,EAAK0F,WAEnB,kBAACpE,EAAA,EAAD,CAAYuB,QAAQ,QAAQpB,MAAM,gBAAgBwB,UAAU,KAA5D,4DA3DE,SAAC0C,GACf,IAAMC,EAAI,IAAIC,KAAKF,GACnB,MAAM,GAAN,OAAUC,EAAEE,UAAZ,YAAyBF,EAAEG,WAAa,EAAxC,YAA6CH,EAAEI,eA0DjBC,CAAUjG,EAAKkG,gBAIzC,kBAACC,EAAA,EAAD,KACI,kBAACnE,EAAA,EAAD,CACIC,QAjDc,YNaI,SAACjC,GAAD,OAClCJ,IAAMwG,KAAK,oBAAqBpG,GAC3B7B,MAAK,SAAA2B,GACF,OAAwB,MAApBA,EAASC,QACFD,EAASE,QAKvB5B,OAAM,SAAAC,GACH,OAAO,MMrBXgI,CAAuB,CACnBC,YAAatG,EAAKlC,IAClB+G,OAAQA,IACT1G,MAAK,SAAAkC,GACgB,kBAATA,GACPE,EAAS6D,GAAQ,2BAAK/D,GAAN,IAAYkG,MAAO,EAAGxB,UAAW/E,EAAMvB,OAAQ,GAAIC,OAAQ,OAC3EuF,GAAkB,KAEE,kBAAT5D,GAA8B,YAATA,GAC5BE,EAASwD,EAAoB/D,EAAKlC,MAClCyC,EAASd,GAAgB,MAEzBc,EAASd,GAAgB,IACzBwE,KAEJ3F,QAAQC,IAAI,wBAiCR4C,UAAWC,IAAOoF,aAClB3D,QAAQ,YACRpB,MAAM,YACNgF,SAAU9B,IAAuD,IAA1CG,EAAmBF,QAAQ5E,EAAKlC,MACtD6G,EAAY,0PAA6F,IAA1CG,EAAmBF,QAAQ5E,EAAKlC,KAC5F,wFAAoB,yI,8BCpF/B4I,GAAU,WAEnB,OACI,yBAAKvF,UAAWC,KAAOuF,kBACnB,kBAACC,GAAA,EAAD,CAAkBnF,MAAM,gB,oBCCvBoF,GAAiB,WAE1B,IAAMtG,EAAWC,cAEjBsG,qBAAU,WACNnH,IACKxB,MAAK,YAAgC,IAA7B6B,EAA4B,EAA5BA,KAAMC,EAAsB,EAAtBA,gBACX3B,QAAQC,IAAI,OAERgC,EAASd,EADW,YAApBQ,IAKJM,EAAS3B,EAAOoB,SAEzB,IAEH,IAAMtC,EAAa0F,aAAY,SAAAzE,GAAK,OAAIA,EAAMjB,WAAWiG,SAEzD,OACI,yBAAKxC,UAAWC,KAAOC,YAClB3D,EAAW+E,OACR,kBAAC,IAAMsE,SAAP,KACKrJ,EAAW4E,KAAI,SAAAyC,GACZ,OAAO,kBAAC,GAAD,CAAW/E,KAAM+E,EAAWiC,IAAKjC,EAAUjH,UAEtC,kBAAC,GAAD,QChCvBmJ,GAAa,WAEtB,OAAO,kBAAC,IAAMF,SAAP,KACH,kBAAC,GAAD,Q,6ECSKG,GAAO,SAAC,GAAc,IAAZlH,EAAW,EAAXA,KAAW,EACVS,mBAAS,CACzB0G,WAAY,uHACZC,WAAY,kIACZC,UAAW,mDACXC,SAAU,mDACVC,UAAW,+CALRC,EADuB,oBASxBjH,EAAWC,cATa,EAgBDC,mBAAST,EAAKvB,SAAU,GAhBvB,mBAgBvBgJ,EAhBuB,KAgBfC,EAhBe,OAkBEjH,oBAAS,GAlBX,mBAkBvBkH,EAlBuB,KAkBbC,EAlBa,OAoBMnH,mBAAS,CACzC3C,IAAKkC,EAAKlC,IACVW,OAAQuB,EAAKvB,OACbC,OAAQ,CAAC,UAvBiB,mBAoBvBmJ,EApBuB,KAoBXC,EApBW,OA0BFrH,mBAAS,CACjChC,QAAQ,EACRC,QAAQ,IA5BkB,mBA0BvBqJ,EA1BuB,KA0BfC,EA1Be,KA0CxBC,EAAwB,SAACtJ,GAE3B,IAAMuJ,EAAe,CACjBpK,IAAKkC,EAAKlC,IACV+G,OAAQ7E,EAAKxC,KACb8I,YAAatG,EAAK+E,UAAUjH,IAC5Ba,MAAOA,EACPF,OAAQuB,EAAKvB,OACbC,OAAQsB,EAAKtB,OACb6H,MAAOvG,EAAKuG,OAEF,cAAV5H,IACAuJ,EAAazJ,OAAS,GACtByJ,EAAaC,OAAS,GACtBL,EAAc,2BACPD,GADM,IAETpJ,OAAQ,GACRC,OAAQ,OAGhBkJ,GAAY,GACZrH,EAASiE,GAAgB0D,IACzB9H,EAAkB8H,GACb/J,MAAK,SAAAkC,GACEA,GACAuH,GAAY,GACZrH,EAASiE,GAAgBnE,KAEzB/B,QAAQC,IAAI,0BAsCtB6J,EAAc,WAChB,IAAIxG,EAAQ,GAWZ,OAVqBQ,OAAOI,KAAKqF,GAAYvF,KAAI,SAAA0E,GAC7C,OAA+B,IAA3Ba,EAAWb,GAAKvE,QAChBb,EAAMoF,IAAO,GACN,IAGPpF,EAAMoF,IAAO,GACN,MAGEtE,MAAK,SAAA2F,GAAE,OAAW,IAAPA,MACxBL,EAAUpG,IACH,IAEPoG,EAAUpG,IACH,IAIf,OACI,kBAACoD,EAAA,EAAD,CAAM7D,UAAWC,KAAOC,YACpB,kBAAC4D,EAAA,EAAD,CACIhC,UAAU,MACViC,IAAI,aACJC,OAAO,MACPC,MAAOpF,EAAK+E,UAAUK,MACtBC,MAAM,SAEV,kBAACC,EAAA,EAAD,KACI,kBAAChE,EAAA,EAAD,CAAYG,MAAM,gBAAgB8D,cAAY,EAAC1C,QAAQ,KAAKI,UAAU,MACjEjD,EAAK+E,UAAUM,OAEpB,kBAAC/D,EAAA,EAAD,CAAYuB,QAAQ,QAAQpB,MAAM,gBAAgBwB,UAAU,KACvDjD,EAAK+E,UAAUS,aAEpB,yBAAKrE,UAAWC,KAAOqE,eACnB,kBAACnE,EAAA,EAAD,CAAYuB,QAAQ,QAAQpB,MAAM,gBAAgBwB,UAAU,KAA5D,uGAC0BjD,EAAK+E,UAAUW,WAEzC,kBAACpE,EAAA,EAAD,CAAYuB,QAAQ,QAAQpB,MAAM,gBAAgBwB,UAAU,KAA5D,uDACkBjD,EAAKuG,QAEvB,kBAACjF,EAAA,EAAD,CAAYuB,QAAQ,QAAQpB,MAAM,gBAAgBwB,UAAU,KAA5D,4DA7IE,SAAC0C,GACf,IAAMC,EAAI,IAAIC,KAAKF,GACnB,MAAM,GAAN,OAAUC,EAAEE,UAAZ,YAAyBF,EAAEG,WAAa,EAAxC,YAA6CH,EAAEI,eA4IjBC,CAAUjG,EAAK+E,UAAUmB,gBAInD,kBAACC,EAAA,EAAD,KACI,kBAACnE,EAAA,EAAD,CACIyE,SAAyB,eAAfzG,EAAKrB,QAA4BqB,EAAKvB,SAAWuB,EAAKtB,QAAiC,IAAvBsB,EAAKvB,OAAOgE,QAAuC,IAAvBzC,EAAKtB,OAAO+D,OAClHR,QAAS,kBAAMgG,EAAsB,eACrC9G,UAAWC,KAAOoF,aAClB3D,QAAQ,YACRpB,MAAM,aACU,eAAfzB,EAAKrB,MAAL,UAAiC6I,EAAUxH,EAAKrB,QAAW,2GAEhE,kBAAC2J,GAAA,EAAD,CACInH,UAAWoH,aAAKnH,KAAOoH,OAAR,eACVpH,KAAOqH,WAAad,IAEzB1F,QA3IU,WACjB0F,GACDG,EAAc,CACVhK,IAAKkC,EAAKlC,IACVW,OAAQuB,EAAKvB,OACbC,OAAQ,CAAC,UAGjBkJ,GAAaD,IAoIDe,gBAAef,EACfgB,aAAW,aAEX,kBAAC,KAAD,QAGR,kBAACC,GAAA,EAAD,CAAUC,GAAIlB,EAAUmB,QAAQ,OAAOC,eAAa,GAChD,kBAACzD,EAAA,EAAD,CAAanE,UAAWC,KAAO4H,kBAC3B,kBAACzH,EAAA,EAAD,CACIkF,SAAyB,eAAfzG,EAAKrB,MACf8C,MAAM,YACNxD,GAAG,cACHyD,MAAM,mDACNuH,WAAS,EACTtH,SAAU,SAACZ,GAAD,OA9GRmI,EA8G4BnI,EA9GrBC,EA8GwB,SA7GjD8G,EAAc,2BAAKD,GAAN,kBAAmB7G,EAAQkI,EAAMjI,OAAOC,cACrDwG,GAAW,GAFM,IAACwB,EAAOlI,GA+GTY,MAAOmG,EAAOtJ,OACdyC,MAAO2G,EAAWpJ,OAClBqD,WAAYiG,EAAOtJ,QAAU,6IAEjC,kBAACuD,EAAA,EAAD,CACIC,QA/GK,WACrB,GAAKmG,IAuBD9J,QAAQC,IAAI,cAvBI,CAChB,IAAM2J,EAAe,CACjBpK,IAAKkC,EAAKlC,IACV+G,OAAQ7E,EAAKxC,KACb8I,YAAatG,EAAK+E,UAAUjH,IAC5Ba,MAAOqB,EAAKrB,MACZF,OAAQoJ,EAAWpJ,OACnBC,OAAQmJ,EAAWnJ,OACnB6H,MAAOvG,EAAKuG,OAGhBhG,EAAS+D,GAAauD,IACtBH,GAAW,GACXtH,EAAkB8H,GACb/J,MAAK,SAAAkC,GACEA,GACAE,EAAS+D,GAAauD,IACtBH,GAAW,IAEXpJ,QAAQC,IAAI,2BA4FZ4C,UAAWC,KAAO+H,iBAClBtG,QAAQ,YACRpB,MAAM,YACNgF,SAAUgB,GAAyB,eAAfzH,EAAKrB,OAL7B,0DAQA,kBAACqD,EAAA,EAAD,CACIoH,KAAK,QACLnH,QAAS,kBAAMgG,EAAsB,cACrC9G,UAAWC,KAAO+H,iBAClBtG,QAAQ,WACRpB,MAAM,YACNgF,SAAyB,eAAfzG,EAAKrB,OANnB,kI,oBC7MP0K,GAAY,WAErB,IAAM5L,EAAQ2F,aAAY,SAAAzE,GAAK,OAAIA,EAAMlB,MAAM0G,YACzCU,EAASzB,aAAY,SAAAzE,GAAK,OAAIA,EAAMnB,KAAKA,KAAKM,OAC9CyC,EAAWC,cAWjB,OATAsG,qBAAU,WACN3G,EAAa0E,GACR1G,MAAK,SAAAV,GACEA,GACA8C,EAAS8D,GAAY5G,SAGlC,IAGC,yBAAK0D,UAAWC,KAAOC,YAClB5D,EAAMgF,OACH,kBAAC,IAAMsE,SAAP,KACKtJ,EAAM6E,KAAI,SAAAjC,GACP,OAAO,kBAAC,GAAD,CAAML,KAAMK,EAAM2G,IAAK3G,EAAKvC,UAEvB,kBAAC,GAAD,QC3BvBwL,GAAQ,WAEjB,OAAO,kBAAC,IAAMvC,SAAP,KACH,kBAAC,GAAD,Q,gFCIKwC,GAAO,WAAO,IAAD,EAEE9I,mBAAS,SAFX,mBAEfgD,EAFe,KAET+F,EAFS,KAQtB,OACI,kBAACC,GAAA,EAAD,CAAkBtI,UAAWC,KAAOC,WAAYqI,YAAU,EAACxI,MAAOuC,EAAM9B,SALnD,SAACuH,EAAOS,GAC7BH,EAAQG,KAKJ,kBAACC,GAAA,EAAD,CACIzI,UAAWoH,aAAKnH,KAAOmB,KAAR,eACVnB,KAAOyI,SAAqB,eAATpG,IAExB/B,MAAM,mDACNR,MAAM,aACN4I,KAAM,kBAAC,KAAD,MACN7G,UAAW8G,KACXxG,GAAG,gBAEP,kBAACqG,GAAA,EAAD,CACIzI,UAAWoH,aAAKnH,KAAOmB,KAAR,eACVnB,KAAOyI,SAAqB,UAATpG,IAExB/B,MAAM,6CACNR,MAAM,QACN4I,KAAM,kBAAC,KAAD,MACN7G,UAAW8G,KACXxG,GAAG,aCnCNyG,GAAmB,SAAC,GAAoB,IAAZC,EAAW,EAAjBxG,KAC/B,OACI,kBAAC,IAAMsD,SAAP,KACI,kBAACkD,EAAD,MACA,kBAAC,GAAD,QCiFGC,GApEH,WAEV,IAAM3J,EAAWC,cAEXvB,EAAUmE,aAAY,SAAAzE,GAAK,OAAIA,EAAMnB,KAAKyB,WAC1C4F,EAASzB,aAAY,SAAAzE,GAAK,OAAIA,EAAMnB,KAAKA,MAAQmB,EAAMnB,KAAKA,KAAKM,OACjEoB,EAAWkE,aAAY,SAAAzE,GAAK,OAAIA,EAAMnB,KAAK0B,YANjC,EAQgBuB,oBAAS,GARzB,mBAQT0J,EARS,KAQEC,EARF,KAuDhB,OA5CAtD,qBAAU,WACJ7H,IACFU,IACGxB,MAAK,YAAgC,IAA7B6B,EAA4B,EAA5BA,KACiB,YADW,EAAtBC,gBAEXM,EAASd,GAAgB,KAEzBc,EAASd,GAAgB,IACzBc,EAAS0D,MAEX1D,EAAS3B,EAAOoB,OAEpBG,EAAa0E,GACV1G,MAAK,SAAAV,GACAA,GACF8C,EAAS8D,GAAY5G,UAI5B,CAACwB,EAAQC,IAIZ4H,qBAAU,WjBnDD1J,EAAGI,KAAKqC,IAAI,gBAAgB1B,MAAK,SAAAX,GACpC,OAAOA,EAAKM,OACbM,OAAM,SAAAC,GACLC,QAAQC,IAAIF,MiBkDbF,MAAK,SAAAF,GACAA,EftCoB,SAACA,GAC7B,OAAO2B,IAAMC,IAAN,iBAAoB5B,IACtBE,MAAK,SAAA2B,GACF,OAAwB,MAApBA,EAASC,QACFD,EAASE,QAKvB5B,OAAM,SAAAC,GACH,OAAO,Ke6BTgM,CAAiBpM,GACdE,MAAK,SAAAX,GACAA,GACF+C,EAAShB,EAAW/B,IACpB+C,EAASnB,KACTgL,GAAW,KAEXpM,EAAU,MACVoM,GAAW,OAIjBA,GAAW,QAGhB,CAACnL,IAGFkL,EAAY,kBAAC,GAAD,MACV,kBAAC,KAAD,CAAQG,SAAS,kBACf,kBAAC,IAAD,KACE,kBAAC,EAAD,CAAapH,YAAY,EAAMD,UAAWH,EAAOyH,KAAK,WACtD,kBAAC,EAAD,CAActH,UAAW+G,GAAkBvG,KAAM6F,GAAOiB,KAAK,WAC7D,kBAAC,EAAD,CAActH,UAAW+G,GAAkBvG,KAAMwD,GAAYsD,KAAK,gBAClE,kBAAC,IAAD,CAAUhH,GAAG,cCtEjBiH,GAAc3I,QACW,cAA7B4I,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2DAqCN,SAASC,GAAgBC,EAAOC,GAC9BC,UAAUC,cACPC,SAASJ,GACT3M,MAAK,SAAAgN,GACJA,EAAaC,cAAgB,WAC3B,IAAMC,EAAmBF,EAAaG,WACd,MAApBD,IAGJA,EAAiBE,cAAgB,WACA,cAA3BF,EAAiB1M,QACfqM,UAAUC,cAAcO,YAI1BlN,QAAQC,IACN,iHAKEwM,GAAUA,EAAOU,UACnBV,EAAOU,SAASN,KAMlB7M,QAAQC,IAAI,sCAGRwM,GAAUA,EAAOW,WACnBX,EAAOW,UAAUP,WAO5B/M,OAAM,SAAAwD,GACLtD,QAAQsD,MAAM,4CAA6CA,MCzFlD+J,mBAAe,CAC1BC,QAAS,CACLnO,MAAOoO,GACPrO,KAAMsO,EACNpO,WAAYqO,K,0DCCpBnM,IAAMoM,SAASC,QAAU,+BAEzB,IAAMC,GAAWC,aAAe,CAC9BC,QAAS,CACPC,QAAS,CACPC,MAAOC,KAAMC,aACbC,KAAMF,KAAMG,YACZC,KAAMJ,KAAMK,YACZC,aAAcN,KAAMO,aAEtBC,UAAW,CACTT,MAAOC,KAAMS,eACbP,KAAMF,KAAMU,cACZN,KAAMJ,KAAMW,cACZL,aAAcN,KAAMY,gBAGxBC,WAAY,CACVC,WAAY,CACV,YAAa,SAAU,SACvBC,KAAK,SFTJ,SAAkBvC,GACvB,GAA6C,kBAAmBC,UAAW,CAGzE,GADkB,IAAIuC,IAAIC,IAAwB/C,OAAOC,SAAS+C,MACpDC,SAAWjD,OAAOC,SAASgD,OAIvC,OAGFjD,OAAOkD,iBAAiB,QAAQ,WAC9B,IAAM7C,EAAK,UAAM0C,IAAN,UAEPhD,KA+DV,SAAiCM,EAAOC,GAEtC6C,MAAM9C,EAAO,CACX+C,QAAS,CAAE,iBAAkB,YAE5B1P,MAAK,SAAA2B,GAEJ,IAAMgO,EAAchO,EAAS+N,QAAQhO,IAAI,gBAEnB,MAApBC,EAASC,QACO,MAAf+N,IAA8D,IAAvCA,EAAYlJ,QAAQ,cAG5CoG,UAAUC,cAAc8C,MAAM5P,MAAK,SAAAgN,GACjCA,EAAa6C,aAAa7P,MAAK,WAC7BsM,OAAOC,SAASuD,eAKpBpD,GAAgBC,EAAOC,MAG1B3M,OAAM,WACLE,QAAQC,IACN,oEAtFA2P,CAAwBpD,EAAOC,GAI/BC,UAAUC,cAAc8C,MAAM5P,MAAK,WACjCG,QAAQC,IACN,yBAKJsM,GAAgBC,EAAOC,OEd/BE,GAEAkD,IAAS9K,OACP,kBAAC,IAAM+K,WAAP,KACE,kBAAC,IAAD,CAAUC,MAAOA,IACf,kBAACC,GAAA,EAAD,CAAgBC,aAAW,GACzB,kBAACC,GAAA,EAAD,CAAejC,MAAOL,IACpB,kBAAC,GAAD,UAKRuC,SAASC,eAAe,SAG1BC,aAAaC,mBAAkB,SAAU7O,GACvCzB,QAAQC,IAAI,kCAAmCwB,O,mBClDjD7C,EAAOC,QAAU,CAAC,aAAe,OAAO,YAAc,UAAU,YAAc,UAAU,YAAc,OAAO,eAAiB,UAAU,cAAgB,UAAU,cAAgB,UAAU,cAAgB,OAAO,WAAa,yBAAyB,cAAgB,4BAA4B,aAAe,2BAA2B,OAAS,qBAAqB,WAAa,yBAAyB,iBAAmB,+BAA+B,iBAAmB,iC,mBCAxdD,EAAOC,QAAU,CAAC,aAAe,OAAO,YAAc,UAAU,YAAc,UAAU,YAAc,OAAO,eAAiB,UAAU,cAAgB,UAAU,cAAgB,UAAU,cAAgB,S,mBCA5MD,EAAOC,QAAU,CAAC,aAAe,OAAO,YAAc,UAAU,YAAc,UAAU,YAAc,OAAO,eAAiB,UAAU,cAAgB,UAAU,cAAgB,UAAU,cAAgB,OAAO,WAAa,yBAAyB,KAAO,qB,mBCAhQD,EAAOC,QAAU,CAAC,aAAe,OAAO,YAAc,UAAU,YAAc,UAAU,YAAc,OAAO,eAAiB,UAAU,cAAgB,UAAU,cAAgB,UAAU,cAAgB,OAAO,WAAa,8BAA8B,WAAa,8BAA8B,YAAc,iC,mBCAvTD,EAAOC,QAAU,CAAC,aAAe,OAAO,YAAc,UAAU,YAAc,UAAU,YAAc,OAAO,eAAiB,UAAU,cAAgB,UAAU,cAAgB,UAAU,cAAgB,OAAO,WAAa,8BAA8B,cAAgB,iCAAiC,aAAe,kC,mBCA9TD,EAAOC,QAAU,CAAC,aAAe,OAAO,YAAc,UAAU,YAAc,UAAU,YAAc,OAAO,eAAiB,UAAU,cAAgB,UAAU,cAAgB,UAAU,cAAgB,OAAO,WAAa,gC,mBCAhOD,EAAOC,QAAU,CAAC,iBAAmB,oC,mBCArCD,EAAOC,QAAU,CAAC,aAAe,OAAO,YAAc,UAAU,YAAc,UAAU,YAAc,OAAO,eAAiB,UAAU,cAAgB,UAAU,cAAgB,UAAU,cAAgB,OAAO,WAAa,qC,mBCAhOD,EAAOC,QAAU,CAAC,aAAe,OAAO,YAAc,UAAU,YAAc,UAAU,YAAc,OAAO,eAAiB,UAAU,cAAgB,UAAU,cAAgB,UAAU,cAAgB,OAAO,WAAa,iC","file":"static/js/main.eb005c8d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"primaryLight\":\"#fff\",\"primaryMain\":\"#e0e0e0\",\"primaryDark\":\"#aeaeae\",\"primaryText\":\"#000\",\"secondaryLight\":\"#8d8d8d\",\"secondaryMain\":\"#606060\",\"secondaryDark\":\"#363636\",\"secondaryText\":\"#fff\"};","import Dexie from 'dexie'\r\n\r\nexport const db = new Dexie('db')\r\ndb.version(1).stores({\r\n    user: \"user\",\r\n    tasks: \"_id\",\r\n    challenges: \"_id\",\r\n    challengesQueue: \"_id\"\r\n})\r\n\r\ndb.on(\"populate\", () => {\r\n    db.user.add({user : 'singleUserId', _id: null})\r\n    db.tasks.bulkAdd([])\r\n    db.challenges.bulkAdd([])\r\n    db.challengesQueue.bulkAdd([])\r\n})","import { db } from './TempateDB'\r\n\r\nexport const getUserId = () => {\r\n    return db.user.get('singleUserId').then(user => {\r\n        return user._id\r\n    }).catch(err => {\r\n        console.log(err)\r\n    })\r\n}\r\n\r\nexport const setUserId = (id) => {\r\n    return db.user.put({ user: 'singleUserId', _id: id })\r\n        .then(() => true)\r\n        .catch(err => console.log(err))\r\n}\r\n\r\nexport const saveTasks = (tasks) => {\r\n    console.log(tasks)\r\n    db.tasks.clear()\r\n    return db.tasks.bulkPut([...tasks])\r\n}\r\n\r\nexport const saveTask = (task) => {\r\n    return db.tasks.put(task)\r\n}\r\n\r\nexport const updateTask = (_id, report, images, state) => {\r\n    return db.tasks.update(_id, { report: report, images: [...images], state: state })\r\n}\r\n\r\nexport const saveChallenges = (challenges) => {\r\n    db.challenges.clear()\r\n    return db.challenges.bulkPut([...challenges])\r\n}\r\n\r\nexport const getTasks = () => {\r\n    return db.tasks.get()\r\n        .toArray()\r\n}\r\n\r\nexport const getChallenges = () => {\r\n    return db.challenges.get()\r\n        .toArray()\r\n}\r\n\r\nexport const saveChallengesQueue = (queue) => {\r\n    console.log(queue)\r\n    return db.challengesQueue.add(queue)\r\n}\r\n\r\nexport const getChallengesQueue = () => {\r\n    return db.challengesQueue.get()\r\n        .toArray()\r\n}\r\n\r\nexport const clearChallengesQueue = () => {\r\n    return db.challengesQueue.clear()\r\n}\r\n","import { createSlice } from '@reduxjs/toolkit'\r\n\r\nconst initialState = {\r\n    isLogin : false,\r\n    isOnline: true,\r\n    user: null\r\n}\r\n\r\nconst userSlice = createSlice({\r\n    name: 'user',\r\n    initialState,\r\n    reducers: {\r\n        logIn: (state, action) => {\r\n            //state.user = action.payload\r\n            state.isLogin = true\r\n        },\r\n        logOut: state => {\r\n            //state.user = null\r\n            state.isLogin = false\r\n        },\r\n        updateUser: (state, action) => {\r\n            state.user = action.payload\r\n        },\r\n        setOnlineStatus: (state, action) => {\r\n            state.isOnline = action.payload\r\n        }\r\n    }\r\n})\r\n\r\nexport const { logIn, logOut, updateUser, setOnlineStatus } = userSlice.actions\r\n\r\nexport default userSlice.reducer","import axios from 'axios'\r\nimport { getChallenges, getTasks } from '../db/dbApi'\r\n\r\nexport const LoginRequest = ({ name, code }) => {\r\n    return axios.get('/users')\r\n        .then(response => {\r\n            if (response.status === 200) {\r\n                const user = response.data.find(user => user.name === name && user.code === code)\r\n                if (user) return user\r\n                else return false\r\n            } else {\r\n                return false\r\n            }\r\n        })\r\n        .catch(err => {\r\n            return false\r\n        })\r\n}\r\n\r\nexport const LoginByIdRequest = (id) => {\r\n    return axios.get(`/users/${id}`)\r\n        .then(response => {\r\n            if (response.status === 200) {\r\n                return response.data\r\n            } else {\r\n                return false\r\n            }\r\n        })\r\n        .catch(err => {\r\n            return false\r\n        })\r\n}\r\n\r\nexport const ChallengesRequest = () =>\r\n    axios.get('/challenges')\r\n        .then(response => {\r\n            if (response.status === 200) {\r\n                return {data: response.data, connetionStatus: response.statusText}\r\n            } else {\r\n                return false\r\n            }\r\n        })\r\n        .catch(err => {\r\n            return false\r\n        })\r\n\r\nexport const AcceptChallengeRequest = (data) =>\r\n    axios.post('challenges/accept', data)\r\n        .then(response => {\r\n            if (response.status === 201) {\r\n                return response.data\r\n            } else {\r\n                return false\r\n            }\r\n        })\r\n        .catch(err => {\r\n            return false\r\n        })\r\n\r\nexport const TasksRequest = (id) =>\r\n    axios.get(`tasks/user/${id}`)\r\n        .then(response => {\r\n            if (response.status === 200) {\r\n                return response.data\r\n            } else {\r\n                return false\r\n            }\r\n        })\r\n        .catch(err => {\r\n            return false\r\n        })\r\n\r\n\r\nexport const UpdateTaskRequest = (task) =>\r\n    axios.put(`tasks/`, task)\r\n        .then(response => {\r\n            if (response.status === 200) {\r\n                return response.data\r\n            } else {\r\n                return false\r\n            }\r\n        })\r\n        .catch(err => {\r\n            return false\r\n        })","import { Button, TextField, Typography } from '@material-ui/core'\r\nimport React, { useState } from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport { setUserId } from '../../db/dbApi'\r\nimport { logIn, updateUser } from '../../redux/reducers/userSlice'\r\nimport { LoginRequest } from '../../requests/Request'\r\nimport styles from '../../styles/LoginForm.module.scss'\r\n\r\nexport const LoginForm = () => {\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const [loginData, setLoginData] = useState({\r\n        name: '',\r\n        code: ''\r\n    })\r\n\r\n    const [err, setErr] = useState({})\r\n\r\n    const handleChange = (e, field) => {\r\n        setLoginData({ ...loginData, [field]: e.target.value })\r\n    }\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault()\r\n        let tempErr = {}\r\n        Object.entries(loginData).map(item => {\r\n            if (item[1] === '') tempErr[item[0]] = true\r\n        })\r\n        if (Object.keys(tempErr).length > 0) {\r\n            setErr(tempErr)\r\n        } else {\r\n            setErr(tempErr)\r\n            LoginRequest(loginData)\r\n                .then(user => {\r\n                    if (user) {\r\n                        setUserId(user._id)\r\n                        dispatch(updateUser(user))\r\n                        dispatch(logIn())\r\n                    } else {\r\n                        setErr({\r\n                            name: true,\r\n                            code: true\r\n                        })\r\n                    }\r\n                })\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className={styles.background}>\r\n            <Typography className=\"login-title\">Войдите в систему</Typography>\r\n            <form>\r\n                <TextField\r\n                    className={styles.loginInput}\r\n                    color=\"secondary\"\r\n                    id=\"login-name\"\r\n                    label=\"Логин\"\r\n                    onChange={(e) => handleChange(e, 'name')}\r\n                    error={Boolean(err.name)}\r\n                    value={loginData.name}\r\n                    helperText={Boolean(err.name) && 'Неправильный логин'}\r\n                />\r\n                <TextField\r\n                    className={styles.loginInput}\r\n                    color=\"secondary\"\r\n                    id=\"login-code\"\r\n                    label=\"Пароль\"\r\n                    type=\"password\"\r\n                    onChange={(e) => handleChange(e, 'code')}\r\n                    error={Boolean(err.code)}\r\n                    value={loginData.code}\r\n                    helperText={Boolean(err.code) && 'Неправильный пароль'}\r\n                />\r\n                <Button type='submit' onClick={handleSubmit} className={styles.loginButton} variant=\"contained\">\r\n                    Войти\r\n                </Button>\r\n            </form>\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\nimport { LoginForm } from '../components/login/LoginForm'\r\nimport styles from '../styles/LoginPage.module.scss'\r\n\r\nexport const Login = () => {\r\n    return (\r\n        <div className={styles.background}>\r\n            <LoginForm />\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { Redirect, Route } from 'react-router-dom'\r\n\r\nexport const PublicRoute = ({ component: Component, restricted, ...rest }) => {\r\n\r\n    const isLogin = useSelector(state => state.user.isLogin)\r\n\r\n    return (\r\n        // restricted = false meaning public route\r\n        // restricted = true meaning restricted route\r\n        <Route {...rest} render={props => (\r\n            isLogin && restricted ?\r\n                <Redirect to=\"/tasks\" />\r\n                : <Component {...props} />\r\n        )} />\r\n    );\r\n};\r\n\r\nexport const PrivateRoute = ({ component: Component, page, ...rest }) => {\r\n\r\n    const isLogin = useSelector(state => state.user.isLogin)\r\n\r\n    return (\r\n        // Show the component only when the user is logged in\r\n        // Otherwise, redirect the user to /signin page\r\n        <Route {...rest} render={props => (\r\n            isLogin ?\r\n                <Component page={page} {...props} />\r\n                : <Redirect to=\"/login\" />\r\n        )} />\r\n    );\r\n};","import { createSlice } from '@reduxjs/toolkit'\r\nimport { saveChallenges, saveChallengesQueue } from '../../db/dbApi'\r\n\r\nconst initialState = {\r\n    items: [],\r\n    pendingQueue: []\r\n}\r\n\r\nconst challengesSLice = createSlice({\r\n    name: 'challenges',\r\n    initialState,\r\n    reducers: {\r\n        update: (state, action) => {\r\n            state.items = [...action.payload]\r\n            saveChallenges(action.payload)\r\n        },\r\n        addChallengeToQueue: (state, action) => {\r\n            state.pendingQueue = [...state.pendingQueue, action.payload]\r\n            saveChallengesQueue({_id: action.payload})\r\n        },\r\n        clearPandingQueue: (state) => {\r\n            state.pendingQueue = []\r\n            clearPandingQueue(state.pendingQueue)\r\n        }\r\n    }\r\n})\r\n\r\nexport const { update, clearPandingQueue, addChallengeToQueue } = challengesSLice.actions\r\n\r\nexport default challengesSLice.reducer","import { createSlice } from '@reduxjs/toolkit'\r\nimport { saveTasks, updateTask, saveTask } from '../../db/dbApi'\r\n\r\nconst initialState = {\r\n    elements: []\r\n}\r\n\r\nconst tasksSlice = createSlice({\r\n    name: 'tasks',\r\n    initialState,\r\n    reducers: {\r\n        addTask: (state, action) => {\r\n/*             const newTaskChallengeId = action.payload.challenge._id\r\n            existingTask = state.elements.find(task => task.challenge._id === newTaskChallengeId && task.state === \"InProgress\")\r\n            if (existingTask) {\r\n                existingTask._id = action.payload._id\r\n            } */\r\n            state.elements = [...state.elements, action.payload]\r\n            saveTask(action.payload)\r\n        },\r\n        updateTasks: (state, action) => {\r\n            state.elements = action.payload\r\n            saveTasks(action.payload)\r\n        },\r\n        updateReport: (state, action) => {\r\n            const { _id, report, images } = action.payload\r\n            const existingTask = state.elements.find(task => task._id === _id)\r\n            if (existingTask) {\r\n                existingTask.report = report\r\n                existingTask.images = images\r\n                updateTask(_id, report, images, existingTask.state)\r\n            }\r\n        },\r\n        updateTaskState: (state, action) => {\r\n            const existingTask = state.elements.find(task => task._id === action.payload._id)\r\n            if (existingTask) {\r\n                existingTask.state = action.payload.state\r\n                updateTask(existingTask._id, existingTask.report, existingTask.images, existingTask.state)\r\n            }\r\n        }\r\n    }\r\n})\r\n\r\nexport const { toggleEditForm, updateTasks, addTask, updateReport, updateTaskState } = tasksSlice.actions\r\n\r\nexport default tasksSlice.reducer","import React from 'react'\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport styles from '../../styles/Challenge.module.scss'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { AcceptChallengeRequest } from '../../requests/Request'\r\nimport { addTask } from '../../redux/reducers/tasksSlice';\r\nimport { addChallengeToQueue, clearPandingQueue } from '../../redux/reducers/challengesSlice';\r\nimport { setOnlineStatus } from '../../redux/reducers/userSlice';\r\n\r\nexport const Challenge = ({ data }) => {\r\n\r\n    const parseDate = (date) => {\r\n        const d = new Date(date)\r\n        return `${d.getDate()}-${d.getMonth() + 1}-${d.getFullYear()}`\r\n    }\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const isPending = useSelector(state => state.challenges.pendingQueue && state.challenges.pendingQueue.indexOf(data._id) !== -1)\r\n\r\n    const userId = useSelector(state => state.user.user._id)\r\n    const acceptedChallenges = useSelector(\r\n        state => state.tasks.elements.map(task => {\r\n            if (task.state !== \"Cancelled\") {\r\n                return task.challenge._id\r\n            }\r\n        }))\r\n\r\n    const handleAcceptChallenge = () => {\r\n        //dispatch(addTask({ _id: Date.now(), user: userId, state: \"InProgress\", score: 0, challenge: data, report: '', images: [] }))\r\n        AcceptChallengeRequest({\r\n            challengeId: data._id,\r\n            userId: userId\r\n        }).then(task => {\r\n            if (typeof task === \"object\") {\r\n                dispatch(addTask({ ...task, score: 0, challenge: data, report: '', images: [] }))\r\n                clearPandingQueue(true)\r\n            } else {\r\n                if (typeof task === \"string\" && task === \"offline\") {\r\n                    dispatch(addChallengeToQueue(data._id))\r\n                    dispatch(setOnlineStatus(false))\r\n                } else {\r\n                    dispatch(setOnlineStatus(true))\r\n                    clearPandingQueue()\r\n                }\r\n                console.log('err to add task')\r\n            }\r\n        })\r\n    }\r\n\r\n    return (\r\n        <Card className={styles.background}>\r\n            <CardMedia\r\n                component=\"img\"\r\n                alt=\"task image\"\r\n                height=\"180\"\r\n                image={data.image}\r\n                title=\"Task\"\r\n            />\r\n            <CardContent>\r\n                <Typography color=\"textSecondary\" gutterBottom variant=\"h6\" component=\"h2\">\r\n                    {data.title}\r\n                </Typography>\r\n                <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n                    {data.description}\r\n                </Typography>\r\n                <div className={styles.challengeInfo}>\r\n                    <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n                        {`Очки: ${data.maxScore}`}\r\n                    </Typography>\r\n                    <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n                        {`Истекает: ${parseDate(data.finishDate)}`}\r\n                    </Typography>\r\n                </div>\r\n            </CardContent>\r\n            <CardActions>\r\n                <Button\r\n                    onClick={handleAcceptChallenge}\r\n                    className={styles.acceptButton}\r\n                    variant=\"contained\"\r\n                    color=\"secondary\"\r\n                    disabled={isPending || acceptedChallenges.indexOf(data._id) !== -1}>\r\n                    {isPending ? 'Челендж будет взят при подключении к интернету' : acceptedChallenges.indexOf(data._id) === -1 ?\r\n                        'Принять челендж' : 'Вы уже взяли этот челендж'}\r\n                </Button>\r\n            </CardActions>\r\n        </Card>\r\n    )\r\n}","import { CircularProgress } from '@material-ui/core'\r\nimport React from 'react'\r\nimport styles from '../../styles/Loading.module.scss'\r\n\r\nexport const Loading = () => {\r\n\r\n    return (\r\n        <div className={styles.loadingContainer}>\r\n            <CircularProgress color=\"secondary\" />\r\n        </div>\r\n    )\r\n}","import React, { useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { update } from '../../redux/reducers/challengesSlice'\r\nimport { ChallengesRequest } from '../../requests/Request'\r\nimport { Challenge } from './Challenge'\r\nimport { Loading } from '../loading/Loading'\r\nimport styles from '../../styles/ChallengesList.module.scss'\r\nimport { setOnlineStatus } from '../../redux/reducers/userSlice'\r\n\r\nexport const ChallengesList = () => {\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    useEffect(() => {\r\n        ChallengesRequest()\r\n            .then(({ data, connetionStatus }) => {\r\n                console.log('tut')\r\n                if (connetionStatus === \"offline\") {\r\n                    dispatch(setOnlineStatus(false))\r\n                } else {\r\n                    dispatch(setOnlineStatus(true))\r\n                }\r\n                dispatch(update(data))\r\n            })\r\n    }, [])\r\n\r\n    const challenges = useSelector(state => state.challenges.items)\r\n\r\n    return (\r\n        <div className={styles.background}>\r\n            {challenges.length ?\r\n                <React.Fragment>\r\n                    {challenges.map(challenge => {\r\n                        return <Challenge data={challenge} key={challenge._id} />\r\n                    })}\r\n                </React.Fragment> : <Loading />}\r\n        </div>)\r\n} ","import React from 'react'\r\nimport { ChallengesList } from '../components/challenges/ChallengesList'\r\n\r\nexport const Challenges = () => {\r\n\r\n    return <React.Fragment>\r\n        <ChallengesList />\r\n    </React.Fragment>\r\n}","import React, { useState } from 'react'\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport styles from '../../styles/Task.module.scss'\r\nimport clsx from 'clsx';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport { Collapse, IconButton, TextField } from '@material-ui/core';\r\nimport { useDispatch } from 'react-redux';\r\nimport { updateReport, updateTaskState } from '../../redux/reducers/tasksSlice';\r\nimport { UpdateTaskRequest } from '../../requests/Request';\r\n\r\nexport const Task = ({ data }) => {\r\n    const [taskState] = useState({\r\n        InProgress: \"В процессе выполнения\",\r\n        Moderation: \"Проверяется модерацией\",\r\n        Confirmed: \"Выполнен\",\r\n        Declined: \"Провален\",\r\n        Cancelled: \"Отменен\"\r\n    })\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const parseDate = (date) => {\r\n        const d = new Date(date)\r\n        return `${d.getDate()}-${d.getMonth() + 1}-${d.getFullYear()}`\r\n    }\r\n\r\n    const [isSave, setIsSaved] = useState(data.report || false)\r\n\r\n    const [expanded, setExpanded] = useState(false)\r\n\r\n    const [reportData, setReportData] = useState({\r\n        _id: data._id,\r\n        report: data.report,\r\n        images: ['test']\r\n    })\r\n\r\n    const [errors, setErrors] = useState({\r\n        report: false,\r\n        images: false\r\n    })\r\n\r\n    const handleExpandClick = () => {\r\n        if (!expanded) {\r\n            setReportData({\r\n                _id: data._id,\r\n                report: data.report,\r\n                images: ['test']\r\n            })\r\n        }\r\n        setExpanded(!expanded)\r\n    }\r\n\r\n    const handleUpdateTaskState = (state) => {\r\n\r\n        const taskToUpdate = {\r\n            _id: data._id,\r\n            userId: data.user,\r\n            challengeId: data.challenge._id,\r\n            state: state,\r\n            report: data.report,\r\n            images: data.images,\r\n            score: data.score\r\n        }\r\n        if (state === \"Cancelled\") {\r\n            taskToUpdate.report = ''\r\n            taskToUpdate.imagex = []\r\n            setReportData({\r\n                ...reportData,\r\n                report: '',\r\n                images: []\r\n            })\r\n        }\r\n        setExpanded(false)\r\n        dispatch(updateTaskState(taskToUpdate))\r\n        UpdateTaskRequest(taskToUpdate)\r\n            .then(task => {\r\n                if (task) {\r\n                    setExpanded(false)\r\n                    dispatch(updateTaskState(task))\r\n                } else {\r\n                    console.log('task doesnt update')\r\n                }\r\n            })\r\n    }\r\n\r\n    const handleChange = (event, field) => {\r\n        setReportData({ ...reportData, [field]: event.target.value })\r\n        setIsSaved(false)\r\n    }\r\n\r\n    const handleSaveReport = () => {\r\n        if (!checkErrors()) {\r\n            const taskToUpdate = {\r\n                _id: data._id,\r\n                userId: data.user,\r\n                challengeId: data.challenge._id,\r\n                state: data.state,\r\n                report: reportData.report,\r\n                images: reportData.images,\r\n                score: data.score\r\n            }\r\n            //Update task locally before sending request\r\n            dispatch(updateReport(reportData))\r\n            setIsSaved(true)\r\n            UpdateTaskRequest(taskToUpdate)\r\n                .then(task => {\r\n                    if (task) {\r\n                        dispatch(updateReport(reportData))\r\n                        setIsSaved(true)\r\n                    } else {\r\n                        console.log('task doesnt update')\r\n                    }\r\n                })\r\n        } else {\r\n            console.log('errors')\r\n        }\r\n    }\r\n\r\n    const checkErrors = () => {\r\n        let error = {}\r\n        const detectErrors = Object.keys(reportData).map(key => {\r\n            if (reportData[key].length === 0) {\r\n                error[key] = true\r\n                return true\r\n            }\r\n            else {\r\n                error[key] = false\r\n                return false\r\n            }\r\n        })\r\n        if (detectErrors.find(el => el === true)) {\r\n            setErrors(error)\r\n            return true\r\n        } else {\r\n            setErrors(error)\r\n            return false\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Card className={styles.background}>\r\n            <CardMedia\r\n                component=\"img\"\r\n                alt=\"task image\"\r\n                height=\"180\"\r\n                image={data.challenge.image}\r\n                title=\"Task\"\r\n            />\r\n            <CardContent>\r\n                <Typography color=\"textSecondary\" gutterBottom variant=\"h6\" component=\"h2\">\r\n                    {data.challenge.title}\r\n                </Typography>\r\n                <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n                    {data.challenge.description}\r\n                </Typography>\r\n                <div className={styles.challengeInfo}>\r\n                    <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n                        {`Максимальный бал: ${data.challenge.maxScore}`}\r\n                    </Typography>\r\n                    <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n                        {`Твой бал: ${data.score}`}\r\n                    </Typography>\r\n                    <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n                        {`Истекает: ${parseDate(data.challenge.finishDate)}`}\r\n                    </Typography>\r\n                </div>\r\n            </CardContent>\r\n            <CardActions>\r\n                <Button\r\n                    disabled={data.state !== \"InProgress\" || (!data.report || !data.images || data.report.length === 0 || data.images.length === 0)}\r\n                    onClick={() => handleUpdateTaskState(\"Moderation\")}\r\n                    className={styles.acceptButton}\r\n                    variant=\"contained\"\r\n                    color=\"secondary\">\r\n                    {data.state !== \"InProgress\" ? `${taskState[data.state]}` : 'Завершить челлендж'}\r\n                </Button>\r\n                <IconButton\r\n                    className={clsx(styles.expand, {\r\n                        [styles.expandOpen]: expanded,\r\n                    })}\r\n                    onClick={handleExpandClick}\r\n                    aria-expanded={expanded}\r\n                    aria-label=\"show more\"\r\n                >\r\n                    <ExpandMoreIcon />\r\n                </IconButton>\r\n            </CardActions>\r\n            <Collapse in={expanded} timeout=\"auto\" unmountOnExit>\r\n                <CardContent className={styles.reportBackground}>\r\n                    <TextField\r\n                        disabled={data.state !== \"InProgress\"}\r\n                        color=\"secondary\"\r\n                        id=\"task-report\"\r\n                        label=\"Описание\"\r\n                        multiline\r\n                        onChange={(e) => handleChange(e, 'report')}\r\n                        error={errors.report}\r\n                        value={reportData.report}\r\n                        helperText={errors.report && 'Поле не должно быть пустым'}\r\n                    />\r\n                    <Button\r\n                        onClick={handleSaveReport}\r\n                        className={styles.saveReportButton}\r\n                        variant=\"contained\"\r\n                        color=\"secondary\"\r\n                        disabled={isSave || data.state !== \"InProgress\"}>\r\n                        Сохранить\r\n                    </Button>\r\n                    <Button\r\n                        size=\"small\"\r\n                        onClick={() => handleUpdateTaskState(\"Cancelled\")}\r\n                        className={styles.saveReportButton}\r\n                        variant=\"outlined\"\r\n                        color=\"secondary\"\r\n                        disabled={data.state !== \"InProgress\"}>\r\n                        Отказаться от челенджа\r\n                    </Button>\r\n                </CardContent>\r\n            </Collapse>\r\n        </Card>\r\n    )\r\n}","import React, { useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { Task } from './Task'\r\nimport { Loading } from '../loading/Loading'\r\nimport styles from '../../styles/TasksList.module.scss'\r\nimport { TasksRequest } from '../../requests/Request'\r\nimport { updateTasks } from '../../redux/reducers/tasksSlice'\r\n\r\nexport const TasksList = () => {\r\n\r\n    const tasks = useSelector(state => state.tasks.elements)\r\n    const userId = useSelector(state => state.user.user._id)\r\n    const dispatch = useDispatch()\r\n\r\n    useEffect(() => {\r\n        TasksRequest(userId)\r\n            .then(tasks => {\r\n                if (tasks) {\r\n                    dispatch(updateTasks(tasks))\r\n                }\r\n            })\r\n    }, [])\r\n\r\n    return (\r\n        <div className={styles.background}>\r\n            {tasks.length ?\r\n                <React.Fragment>\r\n                    {tasks.map(task => {\r\n                        return <Task data={task} key={task._id} />\r\n                    })}\r\n                </React.Fragment> : <Loading />}\r\n        </div>)\r\n}","import React from 'react'\r\nimport { TasksList } from '../components/tasks/TasksList'\r\n\r\nexport const Tasks = () => {\r\n\r\n    return <React.Fragment>\r\n        <TasksList />\r\n    </React.Fragment>\r\n}","import React, { useState } from 'react';\r\nimport BottomNavigation from '@material-ui/core/BottomNavigation';\r\nimport BottomNavigationAction from '@material-ui/core/BottomNavigationAction';\r\nimport ListAltIcon from '@material-ui/icons/ListAlt';\r\nimport AssignmentIcon from '@material-ui/icons/Assignment';\r\nimport styles from '../../styles/Menu.module.scss'\r\nimport clsx from 'clsx';\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\nexport const Menu = () => {\r\n\r\n    const [page, setPage] = useState('tasks');\r\n\r\n    const handlePageChange = (event, newValue) => {\r\n        setPage(newValue);\r\n    };\r\n\r\n    return (\r\n        <BottomNavigation className={styles.background} showLabels value={page} onChange={handlePageChange}>\r\n            <BottomNavigationAction\r\n                className={clsx(styles.item, {\r\n                    [styles.selected]: (page === \"challenges\"),\r\n                })}\r\n                label=\"Челенджи\"\r\n                value=\"challenges\"\r\n                icon={<ListAltIcon />}\r\n                component={Link}\r\n                to=\"/challenges\"\r\n            />\r\n            <BottomNavigationAction\r\n                className={clsx(styles.item, {\r\n                    [styles.selected]: (page === \"tasks\"),\r\n                })}\r\n                label=\"Задания\"\r\n                value=\"tasks\"\r\n                icon={<AssignmentIcon />}\r\n                component={Link}\r\n                to=\"/tasks\"\r\n            />\r\n        </BottomNavigation>\r\n    );\r\n}","import React from 'react';\r\nimport { Menu } from './components/menu/Menu';\r\n\r\nexport const PagesConstructor = ({ page: Page }) => {\r\n    return (\r\n        <React.Fragment>\r\n            <Page />\r\n            <Menu />\r\n        </React.Fragment>\r\n    )\r\n}","import React, { useEffect, useState } from 'react';\nimport { Login } from './pages/Login'\nimport { PrivateRoute, PublicRoute } from './AuthRoute'\nimport { Challenges } from './pages/Challenges'\nimport {\n  BrowserRouter as Router,\n  Redirect,\n  Switch\n} from 'react-router-dom'\nimport { useDispatch, useSelector } from 'react-redux';\nimport { ChallengesRequest, LoginByIdRequest, TasksRequest } from './requests/Request';\nimport { updateTasks } from './redux/reducers/tasksSlice';\nimport { Tasks } from './pages/Tasks';\nimport { getUserId, setUserId } from './db/dbApi';\nimport { logIn, updateUser } from './redux/reducers/userSlice';\nimport { Loading } from './components/loading/Loading';\nimport { PagesConstructor } from './PagesConstructor';\nimport { clearPandingQueue, update } from './redux/reducers/challengesSlice';\nimport { setOnlineStatus } from './redux/reducers/userSlice'\n\nconst App = () => {\n\n  const dispatch = useDispatch()\n\n  const isLogin = useSelector(state => state.user.isLogin)\n  const userId = useSelector(state => state.user.user && state.user.user._id)\n  const isOnline = useSelector(state => state.user.isOnline)\n\n  const [isLoading, setLoading] = useState(true)\n\n  // load tasks challenges if id exist\n  useEffect(() => {\n    if (isLogin) {\n      ChallengesRequest()\n        .then(({ data, connetionStatus }) => {\n          if (connetionStatus === \"offline\") {\n            dispatch(setOnlineStatus(false))\n          } else {\n            dispatch(setOnlineStatus(true))\n            dispatch(clearPandingQueue())\n          }\n          dispatch(update(data))\n        })\n      TasksRequest(userId)\n        .then(tasks => {\n          if (tasks) {\n            dispatch(updateTasks(tasks))\n          }\n        })\n    }\n  }, [isLogin,isOnline])\n\n\n  // Auto login if id exist\n  useEffect(() => {\n    getUserId()\n      .then(id => {\n        if (id) {\n          LoginByIdRequest(id)\n            .then(user => {\n              if (user) {\n                dispatch(updateUser(user))\n                dispatch(logIn())\n                setLoading(false)\n              } else {\n                setUserId(null)\n                setLoading(false)\n              }\n            })\n        } else {\n          setLoading(false)\n        }\n      })\n  }, [isLogin])\n\n  return (\n    isLoading ? <Loading /> :\n      <Router basename=\"/template-task\">\n        <Switch>\n          <PublicRoute restricted={true} component={Login} path=\"/login\" />\n          <PrivateRoute component={PagesConstructor} page={Tasks} path=\"/tasks\" />\n          <PrivateRoute component={PagesConstructor} page={Challenges} path=\"/challenges\" />\n          <Redirect to=\"/login\" />\n        </Switch>\n      </Router>\n  );\n}\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/sw.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'Work on localhost'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import { configureStore } from '@reduxjs/toolkit'\r\n\r\nimport tasksReducer from './reducers/tasksSlice'\r\nimport userReducer from './reducers/userSlice'\r\nimport challengesReducer from  './reducers/challengesSlice'\r\n\r\nexport default configureStore({\r\n    reducer: {\r\n        tasks: tasksReducer,\r\n        user: userReducer,\r\n        challenges: challengesReducer,\r\n    }\r\n})","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport store from './redux/store'\nimport { Provider } from 'react-redux'\nimport theme from './styles/theme.scss'\nimport './styles/global.scss'\nimport { ThemeProvider, StylesProvider, createMuiTheme } from '@material-ui/core/styles'\nimport axios from 'axios'\n\naxios.defaults.baseURL = 'http://25d3f928c7f7.ngrok.io'\n\nconst themeMui = createMuiTheme({\n  palette: {\n    primary: {\n      light: theme.primaryLight,\n      main: theme.primaryMain,\n      dark: theme.primaryDark,\n      contrastText: theme.primaryText\n    },\n    secondary: {\n      light: theme.secondaryLight,\n      main: theme.secondaryMain,\n      dark: theme.secondaryDark,\n      contrastText: theme.secondaryText\n    }\n  },\n  typography: {\n    fontFamily: [\n      'Open Sans', 'Roboto', 'Arial'\n    ].join(',')\n  }\n})\n\nserviceWorker.register();\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <StylesProvider injectFirst>\n        <ThemeProvider theme={themeMui}>\n          <App />\n        </ThemeProvider>\n      </StylesProvider>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nNotification.requestPermission(function (status) {\n  console.log('Notification permission status:', status);\n});","// extracted by mini-css-extract-plugin\nmodule.exports = {\"primaryLight\":\"#fff\",\"primaryMain\":\"#e0e0e0\",\"primaryDark\":\"#aeaeae\",\"primaryText\":\"#000\",\"secondaryLight\":\"#8d8d8d\",\"secondaryMain\":\"#606060\",\"secondaryDark\":\"#363636\",\"secondaryText\":\"#fff\",\"background\":\"Task_background__2SXkR\",\"challengeInfo\":\"Task_challengeInfo__3R8B9\",\"acceptButton\":\"Task_acceptButton__3sb7G\",\"expand\":\"Task_expand__1af3O\",\"expandOpen\":\"Task_expandOpen__1PJfp\",\"reportBackground\":\"Task_reportBackground__2cDS2\",\"saveReportButton\":\"Task_saveReportButton__2kpFG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"primaryLight\":\"#fff\",\"primaryMain\":\"#e0e0e0\",\"primaryDark\":\"#aeaeae\",\"primaryText\":\"#000\",\"secondaryLight\":\"#8d8d8d\",\"secondaryMain\":\"#606060\",\"secondaryDark\":\"#363636\",\"secondaryText\":\"#fff\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"primaryLight\":\"#fff\",\"primaryMain\":\"#e0e0e0\",\"primaryDark\":\"#aeaeae\",\"primaryText\":\"#000\",\"secondaryLight\":\"#8d8d8d\",\"secondaryMain\":\"#606060\",\"secondaryDark\":\"#363636\",\"secondaryText\":\"#fff\",\"background\":\"Menu_background__1EcTJ\",\"item\":\"Menu_item__1WHbu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"primaryLight\":\"#fff\",\"primaryMain\":\"#e0e0e0\",\"primaryDark\":\"#aeaeae\",\"primaryText\":\"#000\",\"secondaryLight\":\"#8d8d8d\",\"secondaryMain\":\"#606060\",\"secondaryDark\":\"#363636\",\"secondaryText\":\"#fff\",\"background\":\"LoginForm_background__2j78L\",\"loginInput\":\"LoginForm_loginInput__3HSUu\",\"loginButton\":\"LoginForm_loginButton__1ZTv0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"primaryLight\":\"#fff\",\"primaryMain\":\"#e0e0e0\",\"primaryDark\":\"#aeaeae\",\"primaryText\":\"#000\",\"secondaryLight\":\"#8d8d8d\",\"secondaryMain\":\"#606060\",\"secondaryDark\":\"#363636\",\"secondaryText\":\"#fff\",\"background\":\"Challenge_background__3LPUE\",\"challengeInfo\":\"Challenge_challengeInfo__3ywmc\",\"acceptButton\":\"Challenge_acceptButton__2X5fa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"primaryLight\":\"#fff\",\"primaryMain\":\"#e0e0e0\",\"primaryDark\":\"#aeaeae\",\"primaryText\":\"#000\",\"secondaryLight\":\"#8d8d8d\",\"secondaryMain\":\"#606060\",\"secondaryDark\":\"#363636\",\"secondaryText\":\"#fff\",\"background\":\"LoginPage_background__2-RHP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loadingContainer\":\"Loading_loadingContainer__vZjJV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"primaryLight\":\"#fff\",\"primaryMain\":\"#e0e0e0\",\"primaryDark\":\"#aeaeae\",\"primaryText\":\"#000\",\"secondaryLight\":\"#8d8d8d\",\"secondaryMain\":\"#606060\",\"secondaryDark\":\"#363636\",\"secondaryText\":\"#fff\",\"background\":\"ChallengesList_background__1Dy0t\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"primaryLight\":\"#fff\",\"primaryMain\":\"#e0e0e0\",\"primaryDark\":\"#aeaeae\",\"primaryText\":\"#000\",\"secondaryLight\":\"#8d8d8d\",\"secondaryMain\":\"#606060\",\"secondaryDark\":\"#363636\",\"secondaryText\":\"#fff\",\"background\":\"TasksList_background__2Zchh\"};"],"sourceRoot":""}